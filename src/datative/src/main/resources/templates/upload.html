<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	  xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{base}">    
      
	<head>
		<link rel="stylesheet" href="css/main.css"/>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<title>Upload</title>
	</head>
	
	<body>
	<section layout:fragment="content">
 	 	<div class="loader" style="display:none"></div>
		 	<div class="container">
		 		<div class="card text-center" id="upload-card">
		 			<div class="card-header">
		 				<h3>Upload File</h3>
		 			</div>
		  			<div class="card-body" id="upload-card-body">
		    			<h5 class="card-title">Upload a new file to begin creating your new dashboard.</h5>
		    			<p class="text-secondary"><small>Accepted File Types: .csv, .xls, .xlsx, .txt</small></p>
		    			<form id="upload-form" method="POST" th:action="@{/uploadFile}" enctype="multipart/form-data">
		    				<div id="file-upload-button">
				    			<input type="file" id="upload-file" name="file" accept=".csv,.xls,.xlsx,.txt" required/> <br/><br/>
				    		</div>
				    		<div th:if="${message}">
								<div class="alert alert-danger" id="login-alert" th:text="${message}"></div>
							</div>
				    		<h5>Enter unique table name</h5>
				    		<p class="text-secondary"><small>Name cannot contain spaces and fullstops. It may contain capital letters and underscores.</small></p>
							<div class="input-group mb-3" id="table-name">
								<div class="input-group-prepend">
				 					<span class="input-group-text" id="target">Table Name</span>
								</div>
								<div id="table-name-input">
									<input type="text" class="form-control" value="" name="tableName" id="tableName" placeholder="Table Name" aria-label="Text input for file name" required>
								</div>
							</div>
				    		<button class="btn btn-outline-success" type="submit" id="uploadSumbit">Submit</button>
				  		</form>
		  			</div>
				</div> 		
				  	  
		 		<script type="text/javascript">
				 	$('#upload-form').submit(function(){
					  $(".loader").show();
				  	});
				 	$("#tableName").keypress(function(event) { 
				 		return event.which != 32; 
				 	});
				 	$("#tableName").keypress(function(event) { 
				 		return event.which != 46; 
				 	});
				</script> 
				
			</div>
		</section>
	</body>
	
</html>


